{"version":3,"sources":["components/Section/Section.module.css","components/Contacts/ContactsItem.module.css","components/Contacts/Contacts.module.css","store/slice.js","store/store.js","components/Section/Section.jsx","components/Form/Form.jsx","components/Filter/Filter.jsx","components/Contacts/ContactsItem.jsx","components/Contacts/Contacts.jsx","App.js","index.js","components/Form/Form.module.css"],"names":["module","exports","contactsApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","tagTypes","endpoints","builder","fetchContacts","query","providesTags","addContact","mutation","url","method","body","name","phone","invalidatesTags","deleteContact","contactId","useFetchContactsQuery","useAddContactMutation","useDeleteContactMutation","store","configureStore","reducer","middleware","getDefaultMiddleware","devTools","process","Section","text","className","children","s","Section__heading","Form","data","isLoading","findMap","find","contact","toLowerCase","handleSubmit","e","a","preventDefault","currentTarget","elements","value","number","alert","reset","console","log","message","onSubmit","htmlFor","Form__item","Form__input","id","type","pattern","title","required","disabled","Form__button","color","size","Filter","onChange","ContactsItem","item","isDeleting","ContactsItem__text","ContactsItem__button","onClick","Contacts","Contacts__list","length","Contacts__message","map","App","useState","filter","setFilter","isFetching","target","contacts","normalizedFilter","includes","getVisibleContacts","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.30ce38c3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Section__heading\":\"Section_Section__heading__1IPBu\",\"Section\":\"Section_Section__34oLQ\",\"Phonebook\":\"Section_Phonebook__2B53W Section_Section__34oLQ\",\"Contacts\":\"Section_Contacts__2do6R Section_Section__34oLQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ContactsItem\":\"ContactsItem_ContactsItem__VMrJK\",\"ContactsItem__button\":\"ContactsItem_ContactsItem__button__2OuVD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Contacts__list\":\"Contacts_Contacts__list__bMSYO\",\"Contacts__message\":\"Contacts_Contacts__message__3_0gQ\"};","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\n\nexport const contactsApi = createApi({\n  reducerPath: 'contactsApi',\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'https://61bdde042a1dd4001708a162.mockapi.io/api/v1/',\n  }),\n  tagTypes: ['Contacts'],\n  endpoints: builder => ({\n    fetchContacts: builder.query({\n      query: () => '/contacts',\n      providesTags: ['Contacts'],\n    }),\n    addContact: builder.mutation({\n      query: ({ name, phone }) => ({\n        url: '/contacts',\n        method: 'POST',\n        body: { name, phone },\n      }),\n      invalidatesTags: ['Contacts'],\n    }),\n    deleteContact: builder.mutation({\n      query: contactId => ({\n        url: `/contacts/${contactId}`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: ['Contacts'],\n    }),\n  }),\n});\n\nexport const {\n  useFetchContactsQuery,\n  useAddContactMutation,\n  useDeleteContactMutation,\n} = contactsApi;\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport { contactsApi } from './slice';\n\nexport const store = configureStore({\n  reducer: {\n    [contactsApi.reducerPath]: contactsApi.reducer,\n  },\n  middleware: getDefaultMiddleware => [\n    ...getDefaultMiddleware(),\n    contactsApi.middleware,\n  ],\n  devTools: process.env.NODE_ENV === 'development',\n});\n","import React from 'react';\r\nimport s from 'components/Section/Section.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Section({ text, className, children }) {\r\n  return (\r\n    <section className={(s.Section, s[className])}>\r\n      <h2 className={s.Section__heading}>{text}</h2>\r\n      {children}\r\n    </section>\r\n  );\r\n}\r\n\r\nSection.propTypes = {\r\n  text: PropTypes.string,\r\n  className: PropTypes.string,\r\n  children: PropTypes.any,\r\n};\r\n\r\nexport { Section };\r\n","import { Section } from 'components/Section/Section';\r\nimport s from 'components/Form/Form.module.css';\r\nimport PropTypes from 'prop-types';\r\nimport { useAddContactMutation, useFetchContactsQuery } from 'store/slice';\r\nimport ClipLoader from 'react-spinners/ClipLoader';\r\n\r\nfunction Form() {\r\n  const { data } = useFetchContactsQuery();\r\n\r\n  const [addContact, { isLoading }] = useAddContactMutation();\r\n\r\n  const findMap = name => {\r\n    return data.find(\r\n      contact => contact.name.toLowerCase() === name.toLowerCase(),\r\n    );\r\n  };\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const name = e.currentTarget.elements.name.value;\r\n    const phone = e.currentTarget.elements.number.value;\r\n    if (findMap(name)) {\r\n      alert(`${name} is already in contacts!`);\r\n      return;\r\n    } else {\r\n      e.currentTarget.reset();\r\n      try {\r\n        await addContact({ name, phone });\r\n      } catch (error) {\r\n        console.log(error.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Section className=\"Phonebook\" text=\"Phonebook\">\r\n      <form onSubmit={handleSubmit} className={s.Form}>\r\n        <label htmlFor=\"input-name\" className={s.Form__item}>\r\n          Name\r\n        </label>\r\n        <input\r\n          className={s.Form__input}\r\n          id=\"input-name\"\r\n          type=\"text\"\r\n          name=\"name\"\r\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n          title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\r\n          required\r\n        />\r\n        <label htmlFor=\"input-tel\" className={s.Form__item}>\r\n          Phone number\r\n        </label>\r\n        <input\r\n          className={s.Form__input}\r\n          id=\"input-tel\"\r\n          type=\"tel\"\r\n          name=\"number\"\r\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n          title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\r\n          required\r\n        />\r\n\r\n        <button type=\"submit\" disabled={isLoading} className={s.Form__button}>\r\n          Add contact{isLoading && <ClipLoader color=\"#000000\" size={12} />}\r\n        </button>\r\n      </form>\r\n    </Section>\r\n  );\r\n}\r\n\r\nForm.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n  className: PropTypes.string,\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func,\r\n};\r\n\r\nexport default Form;\r\n","import PropTypes from 'prop-types';\r\n\r\nfunction Filter({ onChange }) {\r\n  return (\r\n    <label htmlFor=\"search\">\r\n      Find contacts by name:\r\n      <input id=\"search\" type=\"text\" onChange={onChange} />\r\n    </label>\r\n  );\r\n}\r\n\r\nFilter.propTypes = {\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func,\r\n};\r\nexport default Filter;\r\n","import React from 'react';\r\nimport s from 'components/Contacts/ContactsItem.module.css';\r\nimport PropTypes from 'prop-types';\r\nimport { useDeleteContactMutation } from 'store/slice';\r\n\r\nfunction ContactsItem({ id, item }) {\r\n  const [deleteContact, { isLoading: isDeleting }] = useDeleteContactMutation();\r\n  const { name, phone } = item;\r\n  return (\r\n    <li key={id} id={id} className={s.ContactsItem}>\r\n      <span className={s.ContactsItem__text}>\r\n        {name}: {phone}\r\n      </span>\r\n      <button\r\n        className={s.ContactsItem__button}\r\n        onClick={() => deleteContact(id)}\r\n        disabled={isDeleting}\r\n      >\r\n        {isDeleting ? 'Deleting...' : 'Delete'}\r\n      </button>\r\n    </li>\r\n  );\r\n}\r\n\r\nContactsItem.propTypes = {\r\n  id: PropTypes.string,\r\n  number: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  name: PropTypes.string,\r\n};\r\n\r\nexport { ContactsItem };\r\n","import { Section } from 'components/Section/Section';\r\nimport { ContactsItem } from './ContactsItem';\r\nimport s from 'components/Contacts/Contacts.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Contacts({ data }) {\r\n  return (\r\n    <Section className={s.Contacts} text=\"Contacts\">\r\n      {data && (\r\n        <ul className={s.Contacts__list}>\r\n          {data.length === 0 ? (\r\n            <h3 className={s.Contacts__message}>Nothing is here</h3>\r\n          ) : (\r\n            data.map(contact => (\r\n              <ContactsItem key={contact.id} id={contact.id} item={contact} />\r\n            ))\r\n          )}\r\n        </ul>\r\n      )}\r\n    </Section>\r\n  );\r\n}\r\n\r\nContacts.propTypes = {\r\n  name: PropTypes.string,\r\n  id: PropTypes.string,\r\n  number: PropTypes.string,\r\n};\r\n\r\nexport default Contacts;\r\n","import './App.css';\nimport Form from 'components/Form/Form';\nimport Filter from 'components/Filter/Filter';\nimport Contacts from 'components/Contacts/Contacts';\nimport { useFetchContactsQuery } from 'store/slice';\nimport ClipLoader from 'react-spinners/ClipLoader';\nimport { useState } from 'react';\n\nfunction App() {\n  const [filter, setFilter] = useState('');\n\n  const { data, isFetching } = useFetchContactsQuery();\n\n  const getVisibleContacts = contacts => {\n    const normalizedFilter = filter.toLowerCase();\n\n    return contacts.filter(({ name }) =>\n      name.toLowerCase().includes(normalizedFilter),\n    );\n  };\n\n  return (\n    <div className=\"App\">\n      <Form />\n      <Filter onChange={e => setFilter(e.target.value)} />\n      {isFetching ? (\n        <ClipLoader color=\"#000000\" size={150} />\n      ) : (\n        <Contacts data={getVisibleContacts(data)} />\n      )}\n    </div>\n  );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { store } from 'store/store';\nimport App from './App';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Form\":\"Form_Form__3XwTM\",\"Form__item\":\"Form_Form__item__6LO0f\",\"Form__input\":\"Form_Form__input__3jtRF\"};"],"sourceRoot":""}